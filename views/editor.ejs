<!-- Page title + Filters -->
<div class="d-lg-flex align-items-center justify-content-between py-4 mt-lg-2">
  <h1 class="me-3">Pizarra Compartida</h1>

  <div id="page-controls" style="display: flex; align-items: center; gap: 10px;">
    <button id="addPageBtn" class="btn btn-primary">➕ Nueva Página</button>

    <select id="pageSelector" class="form-select" style="width: auto;"></select>

    <button id="deletePageBtn" class="btn btn-danger">🗑️ Eliminar Página</button>

    <form action="/export-angular/<%= salaId %>" method="GET" style="margin: 0;">
      <button type="submit" class="btn btn-success">Exportar a Angular</button>
    </form>

    <form action="/import-img/<%= salaId %>" method="POST" enctype="multipart/form-data">
      <input type="file" name="image" accept="image/*" required>
      <br>
      <button id="importImgBtn" class="btn btn-success" type="submit">Importar Imagen</button>
    </form>

    <form action="/import-class/<%= salaId %>" method="POST" enctype="multipart/form-data">
      <input type="file" name="xmiFile" accept=".xml" required>
      <br>
      <button id="importDiagClasesBtn" class="btn btn-success" type="submit">Importar Diag. Clases</button>
    </form>
  </div>
</div>
<% if (aiDesign) { %>
  <button id="loadAiDesignBtn" class="btn btn-success" type="button">🪄 Cargar Diseño AI</button>
<% } %>

<script>
  window.aiDesign = <%- aiDesign ? aiDesign : 'null' %>;
</script>

<input type="hidden" id="salaId" value="<%= salaId %>">
<div id="gjs"></div>





<!-- Librerías necesarias -->
<!-- Estilos de GrapesJS -->
<link rel="stylesheet" href="https://unpkg.com/grapesjs/dist/css/grapes.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

<!-- GrapesJS Core -->
<script src="https://unpkg.com/grapesjs"></script>

<!-- Plugins -->
<script src="https://unpkg.com/grapesjs-preset-webpage"></script>
<script src="https://unpkg.com/grapesjs-navbar"></script>
<script src="https://unpkg.com/grapesjs-plugin-export"></script>
<script src="https://unpkg.com/grapesjs-custom-code"></script>
<script src="https://unpkg.com/grapesjs-blocks-basic"></script>
<script src="/socket.io/socket.io.js"></script> <!-- Socket.IO -->
<script type="module" src="/js/editor.js"></script>